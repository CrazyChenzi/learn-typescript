<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关键字 | TypeScript learn</title>
    <meta name="description" content="学习TypeScript所做的笔记(假设你已经了解基础TypeScript)">
    <link rel="icon" href="/learn-typescript/logo.png">
    
    <link rel="preload" href="/learn-typescript/assets/css/0.styles.97e5c0a8.css" as="style"><link rel="preload" href="/learn-typescript/assets/js/app.817e6a1e.js" as="script"><link rel="preload" href="/learn-typescript/assets/js/2.d6ed4ccb.js" as="script"><link rel="preload" href="/learn-typescript/assets/js/10.2dd703bf.js" as="script"><link rel="prefetch" href="/learn-typescript/assets/js/11.81e31a1f.js"><link rel="prefetch" href="/learn-typescript/assets/js/12.b4247fbe.js"><link rel="prefetch" href="/learn-typescript/assets/js/3.a569ac64.js"><link rel="prefetch" href="/learn-typescript/assets/js/4.7cf8d17c.js"><link rel="prefetch" href="/learn-typescript/assets/js/5.6268c724.js"><link rel="prefetch" href="/learn-typescript/assets/js/6.6e5a0e8c.js"><link rel="prefetch" href="/learn-typescript/assets/js/7.6c460914.js"><link rel="prefetch" href="/learn-typescript/assets/js/8.4676ec23.js"><link rel="prefetch" href="/learn-typescript/assets/js/9.4f9f3cd9.js">
    <link rel="stylesheet" href="/learn-typescript/assets/css/0.styles.97e5c0a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-typescript/" class="home-link router-link-active"><!----> <span class="site-name">TypeScript learn</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn-typescript/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/learn-typescript/types/" class="nav-link">Types</a></div><div class="nav-item"><a href="/learn-typescript/typealias/" class="nav-link router-link-exact-active router-link-active">TypeAlias</a></div><div class="nav-item"><a href="/learn-typescript/others/" class="nav-link">Others</a></div><div class="nav-item"><a href="https://github.com/blacklisten/learn-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn-typescript/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/learn-typescript/types/" class="nav-link">Types</a></div><div class="nav-item"><a href="/learn-typescript/typealias/" class="nav-link router-link-exact-active router-link-active">TypeAlias</a></div><div class="nav-item"><a href="/learn-typescript/others/" class="nav-link">Others</a></div><div class="nav-item"><a href="https://github.com/blacklisten/learn-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/learn-typescript/typealias/" class="active sidebar-link">类型别名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#关键字" class="sidebar-link">关键字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#extends" class="sidebar-link">extends</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#keyof" class="sidebar-link">keyof</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#in" class="sidebar-link">in</a></li></ul></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#内置类型别名" class="sidebar-link">内置类型别名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#partial" class="sidebar-link">Partial</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#required" class="sidebar-link">Required</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#readonly" class="sidebar-link">Readonly</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#pick" class="sidebar-link">Pick</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#record" class="sidebar-link">Record</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#exclude" class="sidebar-link">Exclude</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#extract" class="sidebar-link">Extract</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#omit" class="sidebar-link">Omit</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#nonnullable" class="sidebar-link">NonNullable</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#parameters" class="sidebar-link">Parameters</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#constructorparameters" class="sidebar-link">ConstructorParameters</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#returntype" class="sidebar-link">ReturnType</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#instancetype" class="sidebar-link">InstanceType</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#thistype" class="sidebar-link">ThisType</a></li></ul></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#自定义的一些类型别名" class="sidebar-link">自定义的一些类型别名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#movereadonly" class="sidebar-link">MoveReadonly</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#powerpartial" class="sidebar-link">PowerPartial</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#deferredpromise" class="sidebar-link">DeferredPromise</a></li><li class="sidebar-sub-header"><a href="/learn-typescript/typealias/#proxify" class="sidebar-link">Proxify</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h2> <p>使用类型别名可以实现很多的复杂类型，很多复杂类型都需要借助关键字来实现</p> <p><a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases" target="_blank" rel="noopener noreferrer">文档链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><em>全局interface定义</em>在后面会用到</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">ITypeAlias</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  location<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><em>全局function定义</em>在后面会用到</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">arg<span class="token punctuation">:</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><em>全局Class定义</em></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> firstName<span class="token punctuation">:</span> <span class="token builtin">string</span>
  <span class="token keyword">public</span> lastName<span class="token punctuation">:</span> <span class="token builtin">number</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">firstName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName
    <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="extends"><a href="#extends" class="header-anchor">#</a> extends</h3> <p><code>extends</code>可以用来继承一个类，也可以用来继承一个<code>interface</code>，还可以用来判断有条件的类型</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> text <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span>

<span class="token keyword">type</span> textE<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">text</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span>

<span class="token keyword">type</span> text1 <span class="token operator">=</span> textE<span class="token operator">&lt;</span><span class="token string">'a'</span><span class="token operator">&gt;</span> <span class="token comment">// true</span>
<span class="token keyword">type</span> text2 <span class="token operator">=</span> textE<span class="token operator">&lt;</span><span class="token string">'f'</span><span class="token operator">&gt;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <p>在<code>js</code>中<code>typeof</code>可以用来判断一个变量的基础数据类型，在<code>TS</code>中，它还有一个作用就是获取一个变量的<code>声明类型</code>，如果不存在，则获取该类型的<code>推论类型</code></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
  age<span class="token punctuation">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> typeofObj <span class="token operator">=</span> <span class="token keyword">typeof</span> obj
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="keyof"><a href="#keyof" class="header-anchor">#</a> keyof</h3> <p>用来获取一个对象接口所有的<code>key</code>值</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> keyofTest <span class="token operator">=</span> <span class="token keyword">keyof</span> ITypeAlias <span class="token comment">// &quot;name&quot; | &quot;age&quot; | &quot;location&quot;</span>

<span class="token keyword">function</span> getProperty<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>obj<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token punctuation">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">getProperty</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay</span>
<span class="token comment">// getProperty(test, &quot;m&quot;); // error: Argument of type 'm' isn't assignable to 'a' | 'b' | 'c' | 'd'.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="in"><a href="#in" class="header-anchor">#</a> in</h3> <p>可以用来遍历<code>枚举类型</code></p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">enum</span> <span class="token constant">ENUMTEST</span> <span class="token punctuation">{</span>
  name <span class="token operator">=</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
  age <span class="token operator">=</span> <span class="token string">'age'</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> inEnumTest <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token constant">ENUMTEST</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="内置类型别名"><a href="#内置类型别名" class="header-anchor">#</a> 内置类型别名</h2> <p><a href="https://github.com/microsoft/TypeScript/blob/master/lib/lib.es5.d.ts" target="_blank" rel="noopener noreferrer">源码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="partial"><a href="#partial" class="header-anchor">#</a> Partial</h3> <p>把所有<code>属性</code>转换为<code>可写</code></p> <blockquote><p>源码: <code>type Partial&lt;T&gt; = { [P in keyof T]?: T[P]; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> partialTest <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>ITypeAlias<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="required"><a href="#required" class="header-anchor">#</a> Required</h3> <p>把所有<code>属性</code>转换为<code>必填</code></p> <blockquote><p>源码: <code>type Required&lt;T&gt; = { [P in keyof T]-?: T[P]; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> requiredTest <span class="token operator">=</span> Required<span class="token operator">&lt;</span>ITypeAlias<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="readonly"><a href="#readonly" class="header-anchor">#</a> Readonly</h3> <p>把所有<code>属性</code>转换为<code>只读</code></p> <blockquote><p>源码: <code>type Readonly&lt;T&gt; = { readonly [P in keyof T]: T[P]; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> readonlyTest <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>ITypeAlias<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pick"><a href="#pick" class="header-anchor">#</a> Pick</h3> <p>将某个<code>类型</code>的<code>子类型</code>挑出来</p> <blockquote><p>源码: <code>type Pick&lt;T, K extends keyof T&gt; = { [P in K]: T[P]; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> pickTest <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>ITypeAlias<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="record"><a href="#record" class="header-anchor">#</a> Record</h3> <p>根据<code>key</code>中所有可能值来设置<code>key</code>以及<code>value</code>的<code>类型</code></p> <blockquote><p>源码: <code>type Record&lt;K extends string | number | symbol, T&gt; = { [P in K]: T; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> recordTest <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token string">'zhangsan'</span> <span class="token operator">|</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> ITypeAlias<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="exclude"><a href="#exclude" class="header-anchor">#</a> Exclude</h3> <p>Exclude from T those types that are assignable to U 提取T中不包含U的元素</p> <blockquote><p>源码: <code>type Exclude&lt;T, U&gt; = T extends U ? never : T</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> excludeTest <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'f'</span><span class="token operator">&gt;</span>
<span class="token comment">// 扩展-剔除一个属性</span>
<span class="token keyword">type</span> excludeTest1 <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>ITypeAlias<span class="token punctuation">,</span> Exclude<span class="token operator">&lt;</span><span class="token keyword">keyof</span> ITypeAlias<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="extract"><a href="#extract" class="header-anchor">#</a> Extract</h3> <p>Extract from T those types that are assignable to U 提取出T中包含在U中的元素</p> <blockquote><p>源码: <code>type Extract&lt;T, U&gt; = T extends U ? T : never</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> extractTest <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span> <span class="token operator">|</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'f'</span><span class="token operator">&gt;</span>
<span class="token keyword">type</span> extractTest1 <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token keyword">keyof</span> ITypeAlias<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="omit"><a href="#omit" class="header-anchor">#</a> Omit</h3> <p>Construct a type with the properties of T except for those in type K 从T中剔除一个K的属性</p> <p>这与<code>Pick&lt;ITypeAlias, Exclude&lt;keyof ITypeAlias, 'name'&gt;&gt;</code>类似</p> <blockquote><p>源码: <code>type Omit&lt;T, K extends string | number | symbol&gt; = { [P in Exclude&lt;keyof T, K&gt;]: T[P]; }</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> omitTest <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>ITypeAlias<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="nonnullable"><a href="#nonnullable" class="header-anchor">#</a> NonNullable</h3> <p>过滤类型中的<code>null</code>和<code>undefined</code></p> <blockquote><p>源码: <code>type NonNullable&lt;T&gt; = T extends null ? never : T</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> nonNullableTest <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> undefined<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h3> <p>获得函数的参数类型组成的<code>元组类型</code></p> <blockquote><p>源码: <code>type Parameters&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: infer P) =&gt; any ? P : never</code></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>type parametersTest <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> fun<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="constructorparameters"><a href="#constructorparameters" class="header-anchor">#</a> ConstructorParameters</h3> <p>获得类的参数类型组成的<code>元组类型</code></p> <blockquote><p>源码: <code>type ConstructorParameters&lt;T extends new (...args: any) =&gt; any&gt; = T extends new (...args: infer P) =&gt; any ? P : never</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> constructorParametersTest <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span>FunctionConstructor<span class="token operator">&gt;</span>
<span class="token keyword">type</span> constructorParametersTest1 <span class="token operator">=</span> ConstructorParameters<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Person<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="returntype"><a href="#returntype" class="header-anchor">#</a> ReturnType</h3> <p>获取<code>函数</code>的<code>返回类型</code></p> <blockquote><p>源码: <code>type ReturnType&lt;T extends (...args: any) =&gt; any&gt; = T extends (...args: any) =&gt; infer R ? R : any</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> returnTypeTest <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> fun<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="instancetype"><a href="#instancetype" class="header-anchor">#</a> InstanceType</h3> <p>获取<code>构造函数</code>的<code>实例类型</code></p> <blockquote><p>源码: <code>type InstanceType&lt;T extends new (...args: any) =&gt; any&gt; = T extends new (...args: any) =&gt; infer R ? R : any</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> instanceTypeTest <span class="token operator">=</span> InstanceType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> Person<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="thistype"><a href="#thistype" class="header-anchor">#</a> ThisType</h3> <p><code>ThisType</code> 此实用程序不返回转换后的类型。 相反，它可以作为这种类型上下文的标记。 请注意，必须启用 <code>-- noImplicitThis</code> 标志才能使用此实用程序</p> <blockquote><p>源码: <code>interface ThisType&lt;T&gt;</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">D</span><span class="token punctuation">;</span>
  methods<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">M</span> <span class="token operator">&amp;</span> ThisType<span class="token operator">&lt;</span><span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token comment">// Type of 'this' in methods is D &amp; M</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> makeObject<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>desc<span class="token punctuation">:</span> ObjectDescriptor<span class="token operator">&lt;</span><span class="token constant">D</span><span class="token punctuation">,</span> <span class="token constant">M</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> data<span class="token punctuation">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>data <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> methods<span class="token punctuation">:</span> object <span class="token operator">=</span> desc<span class="token punctuation">.</span>methods <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">,</span> <span class="token operator">...</span>methods <span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token constant">D</span> <span class="token operator">&amp;</span> <span class="token constant">M</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token function">makeObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token parameter">dx<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> dx<span class="token punctuation">;</span>  <span class="token comment">// Strongly typed this</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> dy<span class="token punctuation">;</span>  <span class="token comment">// Strongly typed this</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="自定义的一些类型别名"><a href="#自定义的一些类型别名" class="header-anchor">#</a> 自定义的一些类型别名</h2> <h3 id="movereadonly"><a href="#movereadonly" class="header-anchor">#</a> MoveReadonly</h3> <p>移除所有<code>readonly</code>属性</p> <blockquote><p>源码: <code>type MoveReadonly&lt;T&gt; = {-readonly [P in keyof T]: T[P]}</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> MoveReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> moveReadonlyTest <span class="token operator">=</span> MoveReadonly<span class="token operator">&lt;</span>readonlyTest<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="powerpartial"><a href="#powerpartial" class="header-anchor">#</a> PowerPartial</h3> <p>内置的 <code>Partial</code> 有个局限性，就是只支持处理第一层的属性，如果是嵌套多层的就没有效果了，不过可以如下自定义</p> <blockquote><p>源码: <code>type PowerPartial&lt;T&gt; = {[U in keyof T]?: T[U] extends object ? PowerPartial&lt;T[U]&gt; : T[U]}</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> PowerPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token constant">U</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name">object</span> <span class="token operator">?</span> PowerPartial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">ITypeAliasMore</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  address<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    location<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    country<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
    city<span class="token punctuation">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> powerPartialTest <span class="token operator">=</span> PowerPartial<span class="token operator">&lt;</span>ITypeAliasMore<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="deferredpromise"><a href="#deferredpromise" class="header-anchor">#</a> DeferredPromise</h3> <p>将每一个<code>属性</code>包装为一个<code>Promise</code>返回</p> <blockquote><p>源码: <code>type DeferredPromise&lt;T&gt; = {[P in keyof T]: Promise&lt;T[P]&gt;}</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> DeferredPromise<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> deferredPromiseTest <span class="token operator">=</span> DeferredPromise<span class="token operator">&lt;</span>ITypeAlias<span class="token operator">&gt;</span>
<span class="token keyword">type</span> deferredPromiseTest1 <span class="token operator">=</span> DeferredPromise<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="proxify"><a href="#proxify" class="header-anchor">#</a> Proxify</h3> <p>为<code>属性</code>添加<code>get set</code></p> <blockquote><p>源码: <code>type Proxify&lt;T&gt; = {[P in keyof T]: { get(): T[P]; set(v: T[P]): void }}</code></p></blockquote> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">type</span> Proxify<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">(</span>v<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">type</span> proxifyTest <span class="token operator">=</span> Proxify<span class="token operator">&lt;</span>Person<span class="token operator">&gt;</span>
<span class="token keyword">type</span> proxifyTest1 <span class="token operator">=</span> Proxify<span class="token operator">&lt;</span>ITypeAlias<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/3/2020, 5:57:00 PM</span></div></footer> <!----> </main></div><div class="global-ui"><div id="goTop" class="hide-cat" data-v-3cd57a9e></div></div></div>
    <script src="/learn-typescript/assets/js/app.817e6a1e.js" defer></script><script src="/learn-typescript/assets/js/2.d6ed4ccb.js" defer></script><script src="/learn-typescript/assets/js/10.2dd703bf.js" defer></script>
  </body>
</html>
